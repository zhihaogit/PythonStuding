<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TEST ECHARTS</title>
    <script src="https://cdn.bootcss.com/echarts/4.4.0-rc.1/echarts-en.common.js"></script>
</head>
<body>
    <div
        id="main"
        style="width: 600px;height: 400px;"
    ></div>
    <script type="text/javascript">
        const myChart = echarts.init(document.getElementById('main'));

        let option = {};
        
        // option = {
        //     title: {
        //         text: 'Echarts Demo'
        //     },
        //     tooltip: {},
        //     legend: {
        //         data: ['count']
        //     },
        //     dataset: {
        //         // 数据集
        //         source: [
        //             ['product', '2015', '2016', '2017'],
        //             ['Matcha Latte', 43.3, 85.5, 93.7],
        //             ['Milk Tea', 83.1, 73.4, 55.1],
        //             ['Cheese Cocoa', 86.4, 65.2, 82.5],
        //             ['Walnut Brownie', 72.4, 53.9, 39.1]
        //         ]
        //     },
        //     // 声明一个 X轴，类目轴(category)，默认情况下，类目轴对应到 dataset第一列
        //     xAxis: {
        //         type: 'category'
        //     },
        //     // 声明一个 Y轴，数值轴
        //     yAxis: {},
        //     // 声明多个 bar系列，默认情况下，每个系列会自动对应到 dataset的每一列
        //     series: [
        //         {
        //             type: 'bar',
        //         },
        //         {
        //             type: 'line',
        //         },
        //         {
        //             type: 'bar',
        //         },
        //     ]
        // };

        // option = {
        //     legend: {},
        //     tooltip: {},
        //     dataset: {
        //         // 这里指定了维度名的顺序，从而可以利用默认的维度到坐标轴的映射
        //         // 这里不指定 dimensions，也可以通过指定 series.encode完成映射
        //         dimensions: ['product', '2015', '2016', '2017'],
        //         source: [
        //             {
        //                 product: 'Matcha Latte',
        //                 '2015': 43.3,
        //                 '2016': 85.5,
        //                 '2017': 93.7
        //             },
        //             {
        //                 product: 'Milk Tea',
        //                 '2015': 83.1,
        //                 '2016': 73.4,
        //                 '2017': 55.1
        //             },
        //             {
        //                 product: 'Matcha Latte',
        //                 '2015': 86.4,
        //                 '2016': 65.2,
        //                 '2017': 82.5
        //             },
        //             {
        //                 product: 'Matcha Latte',
        //                 '2015': 72.4,
        //                 '2016': 53.9,
        //                 '2017': 39.1
        //             },
        //         ]
        //     },
        //     xAxis: {
        //         type: 'category'
        //     },
        //     yAxis: {},
        //     series: [
        //         {
        //             type: 'bar',
        //         },
        //         {
        //             type: 'bar',
        //         },
        //         {
        //             type: 'bar',
        //         },
        //     ]
        // }

        // option = {
        //     legend: {},
        //     tooltip: {},
        //     dataset: {
        //         source: [
        //             ['product', '2012', '2013', '2014', '2015'],
        //             ['Matcha Latte', 41.1, 30.4, 65.1, 53.3],
        //             ['Milk Tea', 86.5, 92.1, 85.7, 83.1],
        //             ['Cheese Cocoa', 24.1, 67.2, 79.5, 86.4]
        //         ]
        //     },
        //     xAxis: [
        //         {type: 'category', gridIndex: 0},
        //         {type: 'category', gridIndex: 1}
        //     ],
        //     yAxis: [
        //         {gridIndex: 0},
        //         {gridIndex: 1}
        //     ],
        //     grid: [
        //         {
        //             bottom: '55%',
        //         },
        //         {
        //             top: '55%'
        //         }
        //     ],
        //     series: [
        //         // 这几个系列会在第一个直角坐标系中，每个系列对应到 dataset 的每一行。
        //         {type: 'bar', seriesLayoutBy: 'row'},
        //         {type: 'bar', seriesLayoutBy: 'row'},
        //         {type: 'bar', seriesLayoutBy: 'row'},
        //         // 这几个系列会在第二个直角坐标系中，每个系列对应到 dataset 的每一列。
        //         {type: 'bar', xAxisIndex: 1, yAxisIndex: 1},
        //         {type: 'bar', xAxisIndex: 1, yAxisIndex: 1},
        //         {type: 'bar', xAxisIndex: 1, yAxisIndex: 1},
        //         {type: 'bar', xAxisIndex: 1, yAxisIndex: 1}
        //     ]
        // }

        // option = {
        //     dataset: {
        //         source: [
        //             ['score', 'amount', 'product'],
        //             [89.3, 58212, 'Matcha Latte'],
        //             [57.1, 78254, 'Milk Tea'],
        //             [74.4, 41032, 'Cheese Cocoa'],
        //             [50.1, 12755, 'Cheese Brownie'],
        //             [89.7, 20145, 'Matcha Cocoa'],
        //             [68.1, 79146, 'Tea'],
        //             [19.6, 91852, 'Orange Juice'],
        //             [10.6, 101852, 'Lemon Juice'],
        //             [32.7, 20112, 'Walnut Brownie']
        //         ]
        //     },
        //     xAxis: {},
        //     yAxis: {
        //         type: 'category'
        //     },
        //     series: [
        //         {
        //             type: 'bar',
        //             encode: {
        //                 x: 'amount',
        //                 y: 'product'
        //             }
        //         }
        //     ]
        // }

        option = {
            legend: {},
            tooltip: {
                trigger: 'axis',
                showContent: false
            },
            dataset: {
                source: [
                    ['product', '2012', '2013', '2014', '2015', '2016', '2017'],
                    ['Matcha Latte', 41.1, 30.4, 65.1, 53.3, 83.8, 98.7],
                    ['Milk Tea', 86.5, 92.1, 85.7, 83.1, 73.4, 55.1],
                    ['Cheese Cocoa', 24.1, 67.2, 79.5, 86.4, 65.2, 82.5],
                    ['Walnut Brownie', 55.2, 67.1, 69.2, 72.4, 53.9, 39.1]
                ]
            },
            xAxis: {
                type: 'category'
            },
            yAxis: {
                gridIndex: 0
            },
            grid: {
                top: '55%'
            },
            series: [
                {
                    type: 'line',
                    smooth: true,
                    seriesLayoutBy: 'row'
                },
                {
                    type: 'line',
                    smooth: true,
                    seriesLayoutBy: 'row'
                },
                {
                    type: 'line',
                    smooth: true,
                    seriesLayoutBy: 'row'
                },
                {
                    type: 'line',
                    smooth: true,
                    seriesLayoutBy: 'row'
                },
                {
                    type: 'pie',
                    id: 'pie',
                    radius: '30%',
                    center: ['50%', '25%'],
                    label: {
                        formatter: '{b}: {@2012} ({d}%)'
                    },
                    encode: {
                        itemName: 'product',
                        value: '2012',
                        tooltip: '2012'
                    }
                },
            ]
        };

        myChart.on('updateAxisPointer', function(e) {
            let xAxisInfo = e.axesInfo[0];
            if (xAxisInfo) {
                let dimension = xAxisInfo.value + 1;
                myChart.setOption({
                    series: {
                        id: 'pie',
                        label: {
                            formatter: '{b}: {@[' + dimension + ']} ({d%})'
                        },
                        encode: {
                            value: dimension,
                            tooltip: dimension,
                        }
                    }
                })
            }
        });

        myChart.setOption(option);
    </script>
</body>
</html>